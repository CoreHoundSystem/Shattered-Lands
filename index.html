<!DOCTYPE html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	</head>
	<body>
		<script>
			const maps = {
				location: {
					123: {
						mapIMG: 'https://www.oldgames.sk/images/oldgames/rpg/Final.Fantasy.1/Maps/ff1-gba-map_cornelia.png', mapWidth: '702', mapHeight: '527', scale: '32'
					}
				}
			}
			$(function() {
				urlToObject($(location).attr('search'),'urlVar');
				console.log(urlVar);//
				loadMap(urlVar.location);
			});
			$(function() {
				const overlandMap = $("#map");
					console.log(overlandMap);
			});
			function loadMap(x) {
				$('#map').css('width',maps.location[x].mapWidth);
				$('#map').css('height',maps.location[x].mapHeight);
				$('#map').css('background-image','url(' + maps.location[x].mapIMG + ')');
			}
			function urlToObject(x,y) {
				window[y] = $.parseJSON(x.replace('?','{ "').replace(/=/g,'": "').replace(/&/g,'", "').concat('" }'));
				console.log(window[y]);
			}
		</script>
		<map id="map" name="overlandMap"></map>
		<style>
			#map {
				border: 1px solid black;
				display: block;
				width: 450px;
				height: 450px;
			}
		</style>
	</body>
</html>
